(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{170:function(e,t,a){},171:function(e,t,a){},172:function(e,t){},173:function(e,t,a){},175:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(40),o=a.n(l),r=(a(92),a(7)),c=a(8),i=a(10),m=a(9),u=a(11),d=(a(93),a(177)),h=a(178),p=a(176),f=a(41),v=a.n(f),E=(a(94),a(23),a(64),function(e){return s.a.createElement("div",null,s.a.createElement("div",{className:"modalWrapper",style:{transform:e.show?"translateY(0vh)":"translateY(-100vh)",opacity:e.show?"1":"0"}},s.a.createElement("div",{className:"modalHeader"},s.a.createElement("h3",null,"How to play"),s.a.createElement("span",{className:"closeModalBtn",onClick:e.close},s.a.createElement("i",{class:"fas fa-times"}),s.a.createElement("span",{className:"visuallyHidden"},"Close Modal"))),s.a.createElement("div",{className:"modalBody"},s.a.createElement("p",null,"Predict the top ten highest grossing summer blockbusters! Compete against your friends."),s.a.createElement("ol",null,s.a.createElement("li",null,"Select a year to see all the movies released that summer"),s.a.createElement("li",null,"Start adding movies to your list, highest grossing at the top, lowest grossing at the bottom"),s.a.createElement("li",null,"Click and drag movie names to reorder your list"),s.a.createElement("li",null,"Once you've added 10, lock in your list! Check your friend's lists to see who knows their stuff")))))}),N=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).openModalHandler=function(){e.setState({isShowing:!0})},e.closeModalHandler=function(){e.setState({isShowing:!1})},e.state={isShowing:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("section",{className:"landingPage"},s.a.createElement("div",null,this.state.isShowing?s.a.createElement("div",{onClick:this.closeModalHandler,className:"backDrop"}):null,s.a.createElement(E,{className:"modal",show:this.state.isShowing,close:this.closeModalHandler},"Need some more info?")),s.a.createElement("div",{className:"contentContainer"},s.a.createElement("div",{className:"logo"},s.a.createElement("img",{src:v.a,className:"logo",alt:""})),s.a.createElement("h1",null,"Welcome to Box Office Boffo!"),s.a.createElement("p",null,"Make a list of what you predict will be the top 10 grossing summer blockbusters and see how you match up!"),s.a.createElement("label",{htmlFor:"name",className:"visuallyHidden"},"Name"),s.a.createElement("input",{className:"inputName",type:"text",placeholder:"Give your list a unique name",htmlFor:"name",name:"name",onChange:this.props.handleChange,value:this.props.userName,id:"name",required:!0}),s.a.createElement("p",null,this.props.duplicateError),s.a.createElement("p",null,this.props.nothingError),s.a.createElement(p.a,{to:"gamepage",className:this.props.class},"Play")),s.a.createElement("footer",{className:"landingFooter clearfix"},s.a.createElement(p.a,{to:"/",className:"homeButton"},s.a.createElement("i",{class:"fas fa-home"}),s.a.createElement("p",null,"Home"),s.a.createElement("span",{className:"visuallyHidden"},"Home Icon")),s.a.createElement(p.a,{to:"/completedLists",className:"allListsButton homeButton"},s.a.createElement("i",{class:"fas fa-list-ul"}),s.a.createElement("p",null,"Completed Lists"),s.a.createElement("span",{className:"visuallyHidden"},"Completed Lists")),s.a.createElement("button",{className:"helpButton homeButton",onClick:this.openModalHandler},s.a.createElement("i",{class:"fas fa-question"}),s.a.createElement("p",null,"Help"),s.a.createElement("span",{className:"visuallyHidden"},"More info"))))}}]),t}(n.Component),g=a(34),b=a.n(g),y=a(27),k=a(62),w=a(83),S=a.n(w),M=a(84),C=a.n(M),j=a(33),O=a.n(j),H=(a(170),a(82),a(85));O.a.initializeApp({apiKey:"AIzaSyD1XDdPkKLLE16BSJ_nz2YMgiMDCRw0594",authDomain:"auth-test-d2fa2.firebaseapp.com",databaseURL:"https://auth-test-d2fa2.firebaseio.com",projectId:"auth-test-d2fa2",storageBucket:"auth-test-d2fa2.appspot.com",messagingSenderId:"194937812413"});var L=O.a,D=a(16),B=a.n(D),x=a(43),I=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).onSortEnd=function(t){var a=t.oldIndex,n=t.newIndex;e.setState(function(e){var t=e.items;return{items:Object(x.arrayMove)(t,a,n)}})},e.handleDelete=function(t){L.database().ref(e.props.userName).child(t).remove()},e.handleSubmit=function(t,a){B()({title:"You've locked in your choices",text:"Check the Completed Lists page to compare your predictions!",icon:"success",button:"Awesome!",dangerMode:!0});var n=L.database().ref("LockedLists");console.log(n);var s=Object(H.a)({},e.state.items),l={userName:e.props.userName,list:s};n.push(l),e.setState({button:"btnHidden",items:[]})},e.state={items:[],button:"btnContainer",confirmed:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e){e.chosenMovies.length!==this.props.chosenMovies.length&&this.setState({items:this.props.chosenMovies})}},{key:"render",value:function(){var e=this;return s.a.createElement(n.Fragment,null,s.a.createElement(Y,{handleDelete:function(t){return e.handleDelete(t)},items:this.state.items,onSortEnd:this.onSortEnd}),10===this.state.items.length?s.a.createElement("div",{className:this.state.button},s.a.createElement("button",{className:"confirm btn",onClick:this.handleSubmit},"confirm")):s.a.createElement("div",{className:"btnHidden"},s.a.createElement("button",{className:"confirm btn",onClick:this.handleSubmit},"confirm")))}}]),t}(n.Component),Y=Object(x.SortableContainer)(function(e){var t=e.items,a=e.handleDelete;return s.a.createElement("ol",{className:"currentList"},t.map(function(e,t){return console.log(e),s.a.createElement(n.Fragment,null,s.a.createElement(_,{handleDelete:function(e){return a(e)},firebaseKey:e.key,key:t,index:t,title:e.title}))}))}),_=Object(x.SortableElement)(function(e){var t=e.title,a=e.firebaseKey,l=e.handleDelete;return console.log(a),s.a.createElement(n.Fragment,null,s.a.createElement("div",{id:a,class:"currentListItem noSelect"},s.a.createElement("li",{className:"listNumber"}),s.a.createElement("h2",null,t),s.a.createElement("button",{className:"delete",onClick:function(){return l(a)}},s.a.createElement("i",{className:"fas fa-minus-circle delete"}))))}),A=I,F=(a(171),function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"userArea"},s.a.createElement("img",{className:"boffoLogo clear",src:v.a,alt:""}),s.a.createElement("p",{className:"user"},"List Name: ",this.props.userName))}}]),t}(n.Component)),P=(a(172),a(173),function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleDelete=function(e){var t=L.database().ref("LockedLists").child(e);B()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this list!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(e){e?(t.remove(),B()("Poof! Your list has been deleted!",{icon:"success"})):B()("Your list is safe!")})},e.openModalHandler=function(){e.setState({isShowing:!0})},e.closeModalHandler=function(){e.setState({isShowing:!1})},e.state={newStateAllTheMovieInfo:[],keys:[]},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;L.database().ref("LockedLists").on("value",function(t){var a=t.val(),n=[];for(var s in a){a[s];var l=a[s].userName,o=a[s].list;n.push({key:s,userName:l,userList:o})}e.setState({newStateAllTheMovieInfo:n})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"completedLists"},s.a.createElement("div",null,this.state.isShowing?s.a.createElement("div",{onClick:this.closeModalHandler,className:"backDrop"}):null,s.a.createElement(E,{className:"modal",show:this.state.isShowing,close:this.closeModalHandler},"Need some more info?")),s.a.createElement("h2",{className:"completedListsTitle"},"Compare your Predictions!"),s.a.createElement("ul",Object(y.a)({className:"clearfix"},"className","userLists"),this.state.newStateAllTheMovieInfo.map(function(t,a){return s.a.createElement("li",{key:a,id:t.key,className:"listBox"},s.a.createElement("h3",{className:"listName"},t.userName),s.a.createElement("ol",{className:"olContainer"},t.userList.map(function(e,t){return s.a.createElement("li",{key:t,className:"moviesList"},s.a.createElement("span",null,e.title))})),s.a.createElement("button",{className:"deleteList",onClick:function(){return e.handleDelete(t.key)}},"Delete"))})),s.a.createElement("footer",{className:"landingFooter clearfix"},s.a.createElement(p.a,{to:"/",className:"homeButton"},s.a.createElement("i",{class:"fas fa-home"}),s.a.createElement("p",null,"Home"),s.a.createElement("span",{className:"visuallyHidden"},"Home Icon")),s.a.createElement(p.a,{to:"/completedLists",className:"allListsButton homeButton"},s.a.createElement("i",{class:"fas fa-list-ul"}),s.a.createElement("p",null,"Completed Lists"),s.a.createElement("span",{className:"visuallyHidden"},"Completed Lists")),s.a.createElement("button",{className:"helpButton homeButton",onClick:this.openModalHandler},s.a.createElement("i",{class:"fas fa-question"}),s.a.createElement("p",null,"Help"),s.a.createElement("span",{className:"visuallyHidden"},"More info"))))}}]),t}(n.Component)),T="https://api.themoviedb.org/3/discover/movie/",q="9ce0982a9b86c5a78ad6ab14e214b652",U=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).openModalHandler=function(){e.setState({isShowing:!0})},e.closeModalHandler=function(){e.setState({isShowing:!1})},e.fetchData=Object(k.a)(b.a.mark(function t(){var a;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.year,t.next=3,S()({method:"GET",url:"https://proxy.hackeryou.com",dataResponse:"json",paramsSerializer:function(e){return C.a.stringify(e,{arrayFormat:"brackets"})},params:{reqUrl:T,params:Object(y.a)({api_key:q,format:"json",language:"en-US","primary_release_date.gte":"".concat(a,"-05-01"),"primary_release_date.lte":"".concat(a,"-09-04"),region:"US",page:1,sort_by:"revenue.desc"},"sort_by","popularity.desc"),proxyHeaders:{some_header:"lfkjg"},xmlToJson:!1}}).then(function(t){var a=t.data.results;e.setState({results:a}),console.log(a)});case 3:case"end":return t.stop()}},t)})),e.handleYear=function(t){t.preventDefault(),e.setState({year:t.target.value})},e.addCurrentMovie=function(){var t=Object(k.a)(b.a.mark(function t(a){var n,s,l,o,r;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n=e.state.chosenMovies.length,s=n<10,console.log(e.state.chosenMovies),l=!1,e.state.chosenMovies.forEach(function(e){a.target.value===e.title&&(l=!0,B()("You already have this movie, please choose a new one!"))}),!1===s&&B()("You already have 10 movies, please submit your list or delete a movie!"),console.log(l),!s||!1!==l){t.next=15;break}return o=O.a.database().ref(e.props.userName),r=a.target.value,o.push(r),t.next=14,e.setState({clickedMovie:r,class:"hide"});case 14:o.on("value",function(t){var a=t.val(),n=[];for(var s in a)n.push({key:s,title:a[s]});e.setState({chosenMovies:n})});case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.state={year:"2019",results:[],clickedMovie:"",chosenMovies:[],displayList:[],class:"",isShowing:!1},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e,t){this.state.year!==t.year&&this.fetchData()}},{key:"render",value:function(){var e=this;return s.a.createElement(n.Fragment,null,s.a.createElement("section",{className:"gamePage"},s.a.createElement("div",null,this.state.isShowing?s.a.createElement("div",{onClick:this.closeModalHandler,className:"backDrop"}):null,s.a.createElement(E,{className:"modal",show:this.state.isShowing,close:this.closeModalHandler},"Need some more info?")),s.a.createElement("p",{className:"instructions"},"Select a year and start adding movies to your list."),s.a.createElement("select",{className:"yearDropDown",onChange:this.handleYear},s.a.createElement("option",{value:"2019"},"2019"),s.a.createElement("option",{value:"2018"},"2018"),s.a.createElement("option",{value:"2017"},"2017"),s.a.createElement("option",{value:"2016"},"2016"),s.a.createElement("option",{value:"2015"},"2015"),s.a.createElement("option",{value:"2014"},"2014"),s.a.createElement("option",{value:"2013"},"2013"),s.a.createElement("option",{value:"2012"},"2012"),s.a.createElement("option",{value:"2011"},"2011"),s.a.createElement("option",{value:"2010"},"2010"),s.a.createElement("option",{value:"2009"},"2009"),s.a.createElement("option",{value:"2008"},"2008")),s.a.createElement("div",{className:"movieCatalogue clearfix"},this.state.results.filter(function(e){return null!==e.poster_path}).map(function(t){return s.a.createElement("div",{key:t.id,className:"movieCatalogueMovie"},s.a.createElement("img",{className:"movieImage",src:"http://image.tmdb.org/t/p/w500/".concat(t.poster_path),alt:"Poster for ".concat(t.title)}),s.a.createElement("div",{className:"overlay"},s.a.createElement("p",null,t.title)),s.a.createElement("button",{className:"addMovie",value:t.title,onClick:e.addCurrentMovie},s.a.createElement("i",{className:"fas fa-plus"}),s.a.createElement("span",{className:"visuallyHidden"},"Add movie to list")))}))," ",s.a.createElement("footer",{className:"gameFooter clearfix"},s.a.createElement(p.a,{to:"/",className:"homeButton"},s.a.createElement("i",{class:"fas fa-home"}),s.a.createElement("span",{className:"visuallyHidden"},"Home Icon")),s.a.createElement(p.a,{to:"/completedLists",className:"allListsButton homeButton"},s.a.createElement("i",{class:"fas fa-list-ul"}),s.a.createElement("span",{className:"visuallyHidden"},"Completed Lists")),s.a.createElement("button",{className:"helpButton homeButton",onClick:this.openModalHandler},s.a.createElement("i",{class:"fas fa-question"}),s.a.createElement("span",{className:"visuallyHidden"},"More info")))),s.a.createElement("div",{className:"currentListContainer"},s.a.createElement(F,{className:"float",userName:this.props.userName}),s.a.createElement(A,{chosenMovies:this.state.chosenMovies,userName:this.props.userName,className:"float"})))}}]),t}(n.Component),z=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).handleChange=function(t){(e.setState({userName:t.target.value}),""===e.state.userName&&e.setState({nothingError:"You must give your list a name",duplicateError:"",class:"hide"}),""!==e.state.userName)&&L.database().ref("LockedLists").once("value").then(function(t){var a=t.val();for(var n in a)e.state.userName===a[n].userName?(!0,e.setState({duplicateError:"That name is already taken, pick a new name",nothingError:null,class:"hide"})):""!==e.state.userName&&e.state.userName!==a[n].userName&&(!1,e.setState({duplicateError:null,nothingError:null,class:"startButton"}))})},e.state={userName:"",duplicateError:"",nothingError:"",class:"hide"},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(d.a,null,s.a.createElement("div",{className:"App"},s.a.createElement(h.a,{exact:!0,path:"/",render:function(){return s.a.createElement(N,{handleChange:e.handleChange,class:e.state.class,nothingError:e.state.nothingError,duplicateError:e.state.duplicateError,userName:e.state.userName})}}),s.a.createElement(h.a,{path:"/gamepage",render:function(){return s.a.createElement(U,{userName:e.state.userName})}}),s.a.createElement(h.a,{path:"/completedlists",component:P})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},23:function(e,t,a){},41:function(e,t,a){e.exports=a.p+"static/media/boffoLogo.ac7b1acc.svg"},64:function(e,t,a){},82:function(e,t,a){},87:function(e,t,a){e.exports=a(175)},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.8f17cba5.chunk.js.map